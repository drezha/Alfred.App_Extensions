tell application "Finder"	set this_item to the selection as aliasend tellset mypath to posix_path(this_item)set the clipboard to mypathon posix_path(mac_path)	set mac_path to (mac_path as text)	set root to (offset of ":" in mac_path)	set rootdisk to (characters 1 thru (root - 1) of mac_path)	tell application "Finder"		if (disk (rootdisk as string) is the startup disk) then			set unixpath to "/" & (characters (root + 1) thru end of mac_path)		else			set unixpath to "/Volumes:" & mac_path		end if	end tell	set chars to every character of unixpath	repeat with i from 2 to length of chars		if item i of chars as text is equal to "/" then			set item i of chars to ":"		else if item i of chars as text is equal to ":" then			set item i of chars to "/"		else if item i of chars as text is equal to "'" then			set item i of chars to "\\'"		else if item i of chars as text is equal to "\"" then			set item i of chars to "\\" & "\""		else if item i of chars as text is equal to "*" then			set item i of chars to "\\*"		else if item i of chars as text is equal to "?" then			set item i of chars to "\\?"		else if item i of chars as text is equal to " " then			set item i of chars to "\\ "		else if item i of chars as text is equal to "\\" then			set item i of chars to "\\\\"		end if	end repeat	return every item of chars as stringend posix_pathdo shell script "var=$(pbpaste) ; var2=$var.bak ; cp $var $var2 ; iconv -t utf-8 $var > $var.tmp ; mv $var.tmp $var"